{"version":3,"file":"guests.bundle.js","mappings":";;;;;AAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,gBAAgB;AACtC,sBAAsB,iBAAiB;AACvC,sBAAsB,oBAAoB;AAC1C;AACA,4DAA4D,iBAAiB;AAC7E;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,gBAAgB;AAClC,kBAAkB,iBAAiB;AACnC,kBAAkB,oBAAoB;AACtC;AACA,sDAAsD,iBAAiB;AACvE;AACA;AACA,4EAA4E,iBAAiB;AAC7F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,qBAAqB;AAC/C,0BAA0B,sBAAsB;AAChD,0BAA0B,yBAAyB;AACnD,wDAAwD,sBAAsB,MAAM,qBAAqB;AACzG,wDAAwD,sBAAsB;AAC9E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sources":["webpack://my-project/./guests/guest.ts"],"sourcesContent":["\"use strict\";\r\n// Get menu elements\r\nconst menu = document.querySelector('menu');\r\nconst menuIcon = document.querySelector('#menu-icon');\r\nconst addEventArea = document.getElementById(\"event-add-block\");\r\nconst notificationArea = document.getElementById(\"notification-display\");\r\nconst logoutArea = document.getElementById(\"profile-edit-area\");\r\n// Menu display function\r\nfunction menubarDisplay() {\r\n    if (menu.style.display === 'none' || menu.style.display === '') {\r\n        menu.style.display = 'block';\r\n        addEventArea.style.display = 'none';\r\n        notificationArea.style.display = 'none';\r\n        logoutArea.style.display = 'none';\r\n    }\r\n    else {\r\n        menu.style.display = 'none';\r\n    }\r\n}\r\n// Add event function\r\nfunction addEvent() {\r\n    window.location.href = \"../events/events.html\";\r\n}\r\n// Notification display function\r\nfunction displayNotification() {\r\n    if (notificationArea.style.display === 'none' || notificationArea.style.display === '') {\r\n        notificationArea.style.display = 'block';\r\n        addEventArea.style.display = 'none';\r\n        logoutArea.style.display = 'none';\r\n    }\r\n    else {\r\n        notificationArea.style.display = 'none';\r\n    }\r\n}\r\n// Logout display function\r\nfunction displayLogout() {\r\n    if (logoutArea.style.display === 'none' || logoutArea.style.display === '') {\r\n        logoutArea.style.display = 'flex';\r\n        addEventArea.style.display = 'none';\r\n        notificationArea.style.display = 'none';\r\n    }\r\n    else {\r\n        logoutArea.style.display = 'none';\r\n    }\r\n}\r\n// Guest form elements\r\nconst guestName = document.getElementById(\"guest-name\");\r\nconst guestEmail = document.getElementById(\"guest-email\");\r\nconst guestLocation = document.getElementById(\"guest-location\");\r\nconst guestNumber = document.getElementById(\"guest-number\");\r\n// Guest validation functions\r\nfunction guestNameCheck() {\r\n    const name = guestName.value.trim();\r\n    const nameError = document.getElementById(\"name-error\");\r\n    if (name === '') {\r\n        nameError.innerHTML = \"Enter a name...\";\r\n        return false;\r\n    }\r\n    else {\r\n        nameError.innerHTML = \"\";\r\n        return true;\r\n    }\r\n}\r\nfunction guestEmailCheck() {\r\n    const email = guestEmail.value.trim();\r\n    const emailError = document.getElementById(\"email-error\");\r\n    const allGuests = JSON.parse(localStorage.getItem(\"guests\") || \"[]\");\r\n    const foundGuest = allGuests.find((guest) => guest.guestEmail === email);\r\n    if (email === '') {\r\n        emailError.innerHTML = \"Enter an Email...\";\r\n        return false;\r\n    }\r\n    else if (foundGuest) {\r\n        emailError.innerHTML = \"Guest Already exists...\";\r\n        return false;\r\n    }\r\n    else {\r\n        emailError.innerHTML = \"\";\r\n        return true;\r\n    }\r\n}\r\nfunction guestLocationCheck() {\r\n    const location = guestLocation.value.trim();\r\n    const locationError = document.getElementById(\"location-error\");\r\n    if (location === '') {\r\n        locationError.innerHTML = \"Enter a Guest Location...\";\r\n        return false;\r\n    }\r\n    else {\r\n        locationError.innerHTML = \"\";\r\n        return true;\r\n    }\r\n}\r\nfunction guestNumberCheck() {\r\n    const number = guestNumber.value.trim();\r\n    const numberError = document.getElementById(\"number-error\");\r\n    if (number === '') {\r\n        numberError.innerHTML = \"Enter a Guest Number...\";\r\n        return false;\r\n    }\r\n    else if (isNaN(Number(number))) {\r\n        numberError.innerHTML = \"Enter a valid Number...\";\r\n        return false;\r\n    }\r\n    else {\r\n        numberError.innerHTML = \"\";\r\n        return true;\r\n    }\r\n}\r\n// Guest constructor\r\nclass Guest {\r\n    constructor(name, email, location) {\r\n        this.guestName = name;\r\n        this.guestEmail = email;\r\n        this.guestLocation = location;\r\n    }\r\n}\r\n// Load guests from local storage and display them\r\nfunction loadGuests() {\r\n    const allGuests = JSON.parse(localStorage.getItem(\"guests\") || \"[]\");\r\n    allGuests.forEach((guest) => {\r\n        addGuestToTable(guest);\r\n    });\r\n}\r\nfunction loadallGuests() {\r\n    const allGuests = JSON.parse(localStorage.getItem(\"guests\") || \"[]\");\r\n    const guestTable = document.getElementById(\"guest-table\");\r\n    if (guestTable) {\r\n        allGuests.forEach((guest) => {\r\n            const tr = document.createElement(\"tr\");\r\n            tr.innerHTML = `\r\n                <td>${guest.guestName}</td>\r\n                <td>${guest.guestEmail}</td>\r\n                <td>${guest.guestLocation}</td>\r\n                <td><button class=\"invite-btn\">Invite</button></td>\r\n                <td><button class=\"delete-btn\" data-name=\"${guest.guestEmail}\">Delete</button></td>\r\n            `;\r\n            guestTable.appendChild(tr);\r\n        });\r\n    }\r\n    else {\r\n        console.error(\"Table element not found\");\r\n    }\r\n}\r\n// Add guest to the table\r\nfunction addGuestToTable(guest) {\r\n    const guestTable = document.getElementById(\"guest-table\");\r\n    const tableData = `\r\n        <tr>\r\n            <td>${guest.guestName}</td>\r\n            <td>${guest.guestEmail}</td>\r\n            <td>${guest.guestLocation}</td>\r\n            <td><button  id=\"invite-btn\">Invite</button></td>\r\n            <td><button  id=\"delete-btn\" data-name=\"${guest.guestEmail}\">Delete</button></td>\r\n        </tr>`;\r\n    guestTable.innerHTML += tableData;\r\n    const deleteButtonElement = document.querySelector(`button[data-name=\"${guest.guestEmail}\"]`);\r\n    if (deleteButtonElement) {\r\n        deleteButtonElement.addEventListener(\"click\", () => deleteGuest(guest.guestEmail));\r\n    }\r\n    else {\r\n        console.error(\"Button with the specified data-name not found.\");\r\n    }\r\n}\r\n// Add guest to local storage and table\r\nfunction addGuest(event) {\r\n    event.preventDefault();\r\n    const message = document.getElementById(\"success-message\");\r\n    const errorMessage = document.getElementById(\"name-error\");\r\n    if (guestNameCheck() && guestEmailCheck() && guestLocationCheck()) {\r\n        const newGuest = new Guest(guestName.value, guestEmail.value, guestLocation.value);\r\n        // Save guest to local storage\r\n        const allGuests = JSON.parse(localStorage.getItem(\"guests\") || \"[]\");\r\n        allGuests.push(newGuest);\r\n        localStorage.setItem(\"guests\", JSON.stringify(allGuests));\r\n        // Add guest to table\r\n        addGuestToTable(newGuest);\r\n        // Clear form fields\r\n        guestName.value = \"\";\r\n        guestEmail.value = \"\";\r\n        guestLocation.value = \"\";\r\n        message.innerHTML = \"Guest added successfully...\";\r\n        setTimeout(() => {\r\n            message.innerHTML = \"\";\r\n        }, 3000);\r\n    }\r\n    else {\r\n        errorMessage.innerHTML = \"Enter all the Mandatory Fields..\";\r\n        message.innerHTML = \"\";\r\n    }\r\n}\r\n// Find guest using email id\r\nfunction findGuest(event) {\r\n    event.preventDefault();\r\n    const findMailElement = document.getElementById(\"find-guest-email\");\r\n    const findMailValue = findMailElement.value.trim();\r\n    const resultMessage = document.getElementById(\"result-guest-error\");\r\n    const searchDisplayArea = document.getElementById(\"display-search-guest\");\r\n    const resultTableBody = document.getElementById(\"result-guest\");\r\n    resultTableBody.innerHTML = \"\";\r\n    if (findMailValue) {\r\n        const allGuests = JSON.parse(localStorage.getItem(\"guests\") || \"[]\");\r\n        const foundGuest = allGuests.find((guest) => guest.guestEmail === findMailValue);\r\n        if (foundGuest) {\r\n            searchDisplayArea.style.display = \"block\";\r\n            resultMessage.innerHTML = \"\";\r\n            const tableData = `\r\n                <tr>\r\n                    <td>${foundGuest.guestName}</td>\r\n                    <td>${foundGuest.guestEmail}</td>\r\n                    <td>${foundGuest.guestLocation}</td>\r\n                    <td><button onclick=\"inviteGuest('${foundGuest.guestEmail}', '${foundGuest.guestName}')\" id=\"invite-btn\">Invite</button></td>\r\n                    <td><button onclick=\"deleteGuest('${foundGuest.guestEmail}')\" id=\"delete-btn\">Delete</button></td>\r\n                </tr>`;\r\n            resultTableBody.innerHTML = tableData;\r\n        }\r\n        else {\r\n            resultMessage.style.color = \"red\";\r\n            resultMessage.innerHTML = \"No guest found with this email.\";\r\n            setTimeout(() => {\r\n                resultMessage.innerHTML = \"\";\r\n            }, 3000);\r\n        }\r\n    }\r\n    else {\r\n        resultMessage.style.color = \"red\";\r\n        resultMessage.innerHTML = \"Please enter an email to search.\";\r\n        setTimeout(() => {\r\n            resultMessage.innerHTML = \"\";\r\n        }, 3000);\r\n    }\r\n    findMailElement.value = \"\";\r\n}\r\n// Delete guest\r\nfunction deleteGuest(email) {\r\n    const allGuests = JSON.parse(localStorage.getItem(\"guests\") || \"[]\");\r\n    const index = allGuests.findIndex((guest) => guest.guestEmail === email);\r\n    if (index > -1) {\r\n        allGuests.splice(index, 1);\r\n        localStorage.setItem(\"guests\", JSON.stringify(allGuests));\r\n        // Remove the guest row from the guest table\r\n        const guestTable = document.getElementById(\"guest-table\");\r\n        if (guestTable) {\r\n            const rows = guestTable.querySelectorAll('tr');\r\n            rows.forEach(row => {\r\n                const emailCell = row.querySelector('td:nth-child(2)');\r\n                if (emailCell && emailCell.textContent === email) {\r\n                    row.remove();\r\n                }\r\n            });\r\n        }\r\n        // Remove the guest row from the search result table\r\n        const searchResultTable = document.getElementById(\"result-guest\");\r\n        if (searchResultTable) {\r\n            const searchResultRows = searchResultTable.querySelectorAll('tr');\r\n            searchResultRows.forEach(row => {\r\n                const emailCell = row.querySelector('td:nth-child(2)');\r\n                if (emailCell && emailCell.textContent === email) {\r\n                    row.remove();\r\n                    const displaySearchGuest = document.getElementById(\"display-search-guest\");\r\n                    if (displaySearchGuest) {\r\n                        displaySearchGuest.style.display = \"none\";\r\n                    }\r\n                }\r\n            });\r\n        }\r\n        alert(\"Guest deleted!\");\r\n    }\r\n    else {\r\n        console.error(\"Guest with this email not found.\");\r\n    }\r\n}\r\nconst addGuestBtn = document.getElementById(\"add-guest-btn\");\r\nconst findGuestBtn = document.getElementById(\"find-user-btn\");\r\nconst eventAddBtn = document.getElementById(\"event-add-btn\");\r\nconst notificationBell = document.getElementById(\"notification-bell\");\r\ndocument.addEventListener(\"DOMContentLoaded\", () => {\r\n    // Adding blur event listeners to form fields for validation\r\n    guestName.addEventListener(\"blur\", guestNameCheck);\r\n    guestEmail.addEventListener(\"blur\", guestEmailCheck);\r\n    guestLocation.addEventListener(\"blur\", guestLocationCheck);\r\n    if (addGuestBtn) {\r\n        // Only one event listener assigned here\r\n        addGuestBtn.addEventListener(\"click\", addGuest);\r\n    }\r\n    // Assign findGuest to the correct button\r\n    if (findGuestBtn) {\r\n        findGuestBtn.addEventListener(\"click\", findGuest);\r\n    }\r\n    loadallGuests();\r\n    loadUserProfile();\r\n    // Event listeners for UI elements\r\n    if (menuIcon)\r\n        menuIcon.addEventListener(\"click\", menubarDisplay);\r\n    if (eventAddBtn)\r\n        eventAddBtn.addEventListener(\"click\", addEvent);\r\n    if (notificationBell)\r\n        notificationBell.addEventListener(\"click\", displayNotification);\r\n});\r\n// Function to load and display user profile details\r\nfunction loadUserProfile() {\r\n    const usersJson = localStorage.getItem(\"users\");\r\n    const allUsersJson = usersJson ? JSON.parse(usersJson) : [];\r\n    const loggedInUserEmail = localStorage.getItem(\"loggedInUserEmail\");\r\n    if (loggedInUserEmail) {\r\n        const filteredUsers = allUsersJson.filter((user) => user.userEmail === loggedInUserEmail);\r\n        const user = filteredUsers.length > 0 ? filteredUsers[0] : undefined;\r\n        console.log(\"Logged In User Email:\", loggedInUserEmail);\r\n        console.log(\"User Object:\", user);\r\n        const profileName = document.getElementById(\"profile-name\");\r\n        const dateOfBirth = document.getElementById(\"profile-dateOfBirth\");\r\n        if (user) {\r\n            if (profileName && dateOfBirth) {\r\n                profileName.innerText = user.userName;\r\n                dateOfBirth.innerText = user.userBirthDate;\r\n            }\r\n            else {\r\n                console.error(\"Profile elements not found.\");\r\n            }\r\n        }\r\n        else {\r\n            console.error(\"User not found in localStorage.\");\r\n        }\r\n    }\r\n    else {\r\n        console.error(\"No logged-in user email found.\");\r\n    }\r\n}\r\n"],"names":[],"sourceRoot":""}