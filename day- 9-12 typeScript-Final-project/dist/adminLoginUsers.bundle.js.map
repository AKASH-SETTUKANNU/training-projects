{"version":3,"file":"adminLoginUsers.bundle.js","mappings":";;;;;AAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,cAAc;AACpC,sBAAsB,eAAe;AACrC,sBAAsB,kBAAkB;AACxC,sBAAsB,cAAc;AACpC,sBAAsB,mBAAmB;AACzC;AACA,2DAA2D,MAAM;AACjE,6DAA6D,eAAe;AAC5E;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC","sources":["webpack://my-project/./adminLoginUsers/loginUsers.ts"],"sourcesContent":["\"use strict\";\r\nfunction loadUserProfile() {\r\n    const usersJson = localStorage.getItem(\"users\");\r\n    const allUsersJson = usersJson ? JSON.parse(usersJson) : [];\r\n    const loggedInUserEmail = localStorage.getItem(\"loggedInUserEmail\");\r\n    if (loggedInUserEmail) {\r\n        const filteredUsers = allUsersJson.filter(user => user.userEmail === loggedInUserEmail);\r\n        const user = filteredUsers.length > 0 ? filteredUsers[0] : undefined;\r\n        const profileName = document.getElementById(\"profile-name\");\r\n        const dateOfBirth = document.getElementById(\"profile-dateOfBirth\");\r\n        if (user) {\r\n            if (profileName && dateOfBirth) {\r\n                profileName.innerText = user.userName;\r\n                dateOfBirth.innerText = user.userBirthDate || 'N/A';\r\n            }\r\n            else {\r\n                console.error(\"Profile elements not found.\");\r\n            }\r\n        }\r\n        else {\r\n            console.error(\"User not found in localStorage.\");\r\n        }\r\n    }\r\n    else {\r\n        console.error(\"No logged-in user email found.\");\r\n    }\r\n}\r\nconst menu = document.querySelector('menu');\r\nconst menuIcon = document.querySelector('#menu-icon');\r\nconst addEventArea = document.getElementById(\"event-add-block\");\r\nconst notificationArea = document.getElementById(\"notification-display\");\r\nconst logoutArea = document.getElementById(\"profile-edit-area\");\r\nconst eventAddBtn = document.getElementById(\"event-add-btn\");\r\nconst notificationBell = document.getElementById(\"notification-bell\");\r\nconst profileEditIcon = document.getElementById(\"profile-edit-icon\");\r\nfunction menubarDisplay() {\r\n    if (menu.style.display === 'none' || menu.style.display === '') {\r\n        menu.style.display = 'block';\r\n        addEventArea.style.display = 'none';\r\n        notificationArea.style.display = 'none';\r\n        logoutArea.style.display = 'none';\r\n    }\r\n    else {\r\n        menu.style.display = 'none';\r\n    }\r\n}\r\nfunction addEvent() {\r\n    window.location.href = \"../events/events.html\";\r\n}\r\nfunction displayNotification() {\r\n    if (notificationArea.style.display === 'none' || notificationArea.style.display === '') {\r\n        notificationArea.style.display = 'block';\r\n        addEventArea.style.display = 'none';\r\n        logoutArea.style.display = 'none';\r\n    }\r\n    else {\r\n        notificationArea.style.display = 'none';\r\n    }\r\n}\r\nfunction displayLogout() {\r\n    if (logoutArea.style.display === 'none' || logoutArea.style.display === '') {\r\n        logoutArea.style.display = 'flex';\r\n        addEventArea.style.display = 'none';\r\n        notificationArea.style.display = 'none';\r\n    }\r\n    else {\r\n        logoutArea.style.display = 'none';\r\n    }\r\n}\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n    const userTableBody = document.querySelector('#user-table tbody');\r\n    const addUserForm = document.getElementById('add-user-form');\r\n    const newUserName = document.getElementById('new-user-name');\r\n    const newUserEmail = document.getElementById('new-user-email');\r\n    const newUserPassword = document.getElementById('new-user-password');\r\n    const newUserRole = document.getElementById('new-user-role');\r\n    const newUserBirthDate = document.getElementById('new-user-birthdate');\r\n    const submitButton = document.querySelector('#add-user-form button');\r\n    let editIndex = null;\r\n    function displayUsers() {\r\n        const users = JSON.parse(localStorage.getItem('users') || '[]');\r\n        userTableBody.innerHTML = '';\r\n        users.forEach((user, index) => {\r\n            const userRow = document.createElement('tr');\r\n            userRow.innerHTML = `\r\n                <td>${user.userName}</td>\r\n                <td>${user.userEmail}</td>\r\n                <td>${user.userPassword}</td>\r\n                <td>${user.userRole}</td>\r\n                <td>${user.userBirthDate}</td>\r\n                <td>\r\n                    <button class=\"edit-btn\" data-index=\"${index}\">Edit</button>\r\n                    <button class=\"delete-btn\" data-email=\"${user.userEmail}\">Delete</button>\r\n                </td>\r\n            `;\r\n            userTableBody.appendChild(userRow);\r\n        });\r\n        document.querySelectorAll('.edit-btn').forEach(button => {\r\n            button.addEventListener('click', (event) => {\r\n                const index = parseInt(event.target.getAttribute('data-index') || '0');\r\n                editUser(index);\r\n            });\r\n        });\r\n        document.querySelectorAll('.delete-btn').forEach(button => {\r\n            button.addEventListener('click', (event) => {\r\n                const email = event.target.getAttribute('data-email') || '';\r\n                deleteUser(email);\r\n            });\r\n        });\r\n    }\r\n    function addUser(event) {\r\n        event.preventDefault();\r\n        const users = JSON.parse(localStorage.getItem('users') || '[]');\r\n        const newUser = {\r\n            userName: newUserName.value.trim(),\r\n            userEmail: newUserEmail.value.trim(),\r\n            userPassword: newUserPassword.value.trim(),\r\n            userRole: newUserRole.value,\r\n            userBirthDate: newUserBirthDate.value\r\n        };\r\n        if (!newUser.userName || !newUser.userEmail || !newUser.userPassword) {\r\n            alert(\"Please fill in all required fields.\");\r\n            return;\r\n        }\r\n        if (editIndex !== null) {\r\n            users[editIndex] = newUser;\r\n            editIndex = null;\r\n            submitButton.textContent = 'Add User';\r\n        }\r\n        else {\r\n            users.push(newUser);\r\n        }\r\n        localStorage.setItem('users', JSON.stringify(users));\r\n        displayUsers();\r\n        addUserForm.reset();\r\n    }\r\n    function deleteUser(email) {\r\n        let users = JSON.parse(localStorage.getItem('users') || '[]');\r\n        users = users.filter(user => user.userEmail !== email);\r\n        localStorage.setItem('users', JSON.stringify(users));\r\n        displayUsers();\r\n    }\r\n    function editUser(index) {\r\n        let users = JSON.parse(localStorage.getItem('users') || '[]');\r\n        const user = users[index];\r\n        if (user) {\r\n            newUserName.value = user.userName;\r\n            newUserEmail.value = user.userEmail;\r\n            newUserPassword.value = user.userPassword;\r\n            newUserRole.value = user.userRole;\r\n            newUserBirthDate.value = user.userBirthDate || '';\r\n            editIndex = index;\r\n            submitButton.textContent = 'Update User';\r\n        }\r\n        else {\r\n            console.error(\"User not found.\");\r\n        }\r\n    }\r\n    addUserForm.addEventListener('submit', addUser);\r\n    displayUsers();\r\n    loadUserProfile();\r\n});\r\n"],"names":[],"sourceRoot":""}